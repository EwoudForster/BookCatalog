@page
@model BookCatalog.Web.Pages.Books.IndexModel
<div class="row">
    <h1 class="text-center py-4">Books Per Genre</h1>
    <a asp-page="/Books/Form" class="btn-info btn btn-lg text-white">New Book</a>

    <select id="genreSelect" class="form-select rounded-5" >
        <option value="">Select a Genre</option>
        @foreach(var genre in Model.Genres){
            <option value="@genre.Id">@genre.Name</option>
        }
    </select>
<div class="mt-5 container">
        @foreach (var genre in Model.Genres)
            {

            <div class="genre-section">
                <!-- Toggle Button -->
                <div class="bg-primary shadow w-100 text-start mb-2">
                    <h3 class="text-center text-white">@genre.Name</h3>
                    
                </div>

                    <div class="d-flex col-10 m-auto flex-wrap justify-content-center gap-3">
                        @foreach (var book in genre.Books)
                        {
                            <partial name="_BookCardPartial" model="@book" />
                        }
                 </div> 
            </div>
        }
    </div>
</div>